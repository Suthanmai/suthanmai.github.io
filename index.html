<!DOCTYPE html>
<html>
<head>
  <title>Hot Posts from r/Soccer and r/MLS</title>
  <style>
    /* Add your custom styles here */
    /* ... */

  </style>
</head>
<body>
  <div class="tab-container">
    <div class="tab active" onclick="switchTab(0)">r/Soccer</div>
    <div class="tab" onclick="switchTab(1)">r/MLS</div>
  </div>

  <div class="tab-content active">
    <h2>Hot Posts from r/Soccer</h2>
    <ul id="soccer-posts-list"></ul>
  </div>

  <div class="tab-content">
    <h2>Hot Posts from r/MLS</h2>
    <ul id="mls-posts-list"></ul>
  </div>

  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script src="https://unpkg.com/he/he.js"></script>
  <script>
    async function scrapeReddit(subreddit, postsListId) {
      const postLimit = 25; // Number of posts to scrape
      const skipPattern = /daily\s+discussion/i; // Regular expression to skip daily discussion variations
      const boldWords = ['confirmed', 'sings', 'complete'];

      try {
        const response = await axios.get(`https://www.reddit.com/r/${subreddit}/hot.json?limit=${postLimit}`, {
          headers: {
            'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3',
          },
        });

        const data = response.data.data.children;
        const postsList = document.getElementById(postsListId);

        // Clear existing list items
        postsList.innerHTML = '';

        // Sort posts by most recent to least recent
        data.sort((a, b) => b.data.created_utc - a.data.created_utc);

        // Fetch exchange rates
        const exchangeRateResponse = await axios.get('https://api.exchangerate-api.com/v4/latest/USD');
        const exchangeRates = exchangeRateResponse.data.rates;

        let count = 1;

        data.forEach((post) => {
          const title = he.decode(post.data.title);
          const directUrl = post.data.url;
          const isPinned = post.data.stickied;

          // Skip variations of "daily discussion" posts and pinned posts
          if (!skipPattern.test(title) && !isPinned) {
            const listItem = document.createElement('li');
            listItem.classList.add('line-item');

            const lineNumber = document.createElement('span');
            lineNumber.classList.add('line-number');
            lineNumber.textContent = count + '. '; // Add a space after the period
            listItem.appendChild(lineNumber);

            const postText = document.createElement('span');
            postText.classList.add('post-text');
            postText.innerHTML = modifyTitleWithBoldWords(title, boldWords, exchangeRates);

            const tickSymbol = document.createElement('span');
            tickSymbol.classList.add('tick-symbol');
            tickSymbol.textContent = 'âœ”'; // Tick symbol

            const timestamp = document.createElement('span');
            timestamp.classList.add('timestamp');
            timestamp.textContent = '[' + formatDate(post.data.created_utc) + ']'; // Add brackets around the timestamp

            const titleLink = document.createElement('a');
            titleLink.href = directUrl;
            titleLink.target = '_blank'; // Open the link in a new tab
            titleLink.appendChild(postText);
            titleLink.appendChild(tickSymbol);

            listItem.appendChild(titleLink);
            listItem.appendChild(timestamp);
            postsList.appendChild(listItem);

            // Set timestamp attribute to current time in milliseconds
            listItem.setAttribute('data-timestamp', new Date().getTime());

            // Restore clicked state from local storage
            const localStorageKey = `clicked_${subreddit}_${count}`;
            const isClicked = localStorage.getItem(localStorageKey);
            if (isClicked === 'true') {
              listItem.classList.add('clicked');
            }

            // Add click event listener to the post
            listItem.addEventListener('click', () => {
              listItem.classList.toggle('clicked');

              // Update local storage with the clicked state
              localStorage.setItem(localStorageKey, listItem.classList.contains('clicked'));
            });

            count++;
          }
        });

        if (count === 1) {
          console.log(`No posts found for r/${subreddit}.`);
        }
      } catch (error) {
        console.error(`Error occurred while scraping r/${subreddit}:`, error);
      }
    }

    // ... Rest of the code ...

  </script>
</body>
</html>
